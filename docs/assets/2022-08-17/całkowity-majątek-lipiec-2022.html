<!DOCTYPE html>
<html dir='auto'>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
@media (prefers-color-scheme: dark) {body {color: #000; background-color: #fff;}}
h3 { font-family: "Segoe UI", sans-serif; font-size: 15pt; font-weight: bold;  }
a { font-family: "Segoe UI", sans-serif; font-size: 10pt; font-style: italic;  }
body, p, table, tr, td { vertical-align: top; font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
tr.alternate-row { background: #ffffff }
tr { page-break-inside: avoid !important;}
html, body { height: 100vh; margin-top: 0px; margin-bottom: 0px; margin-left: 8px; margin-right: 8px; }
td, th { border-color: grey }
th.column-heading-left { text-align: left; font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
th.column-heading-center { text-align: center; font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
th.column-heading-right { text-align: right; font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
td.highlight {background-color:#e1e1e1}td.neg { color: red;  }
td.number-cell, td.total-number-cell { text-align: right; white-space: nowrap; }
td.date-cell { white-space: nowrap; }
td.anchor-cell { white-space: nowrap; font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
td.number-cell { font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
td.number-header { text-align: right; font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
td.text-cell { font-family: "Segoe UI", sans-serif; font-size: 10pt;  }
td.total-number-cell { font-family: "Segoe UI", sans-serif; font-size: 12pt; font-weight: bold;  }
td.total-label-cell { font-family: "Segoe UI", sans-serif; font-size: 12pt; font-weight: bold;  }
td.centered-label-cell { text-align: center; font-family: "Segoe UI", sans-serif; font-size: 12pt; font-weight: bold;  }
sub { top: 0.4em; }
sub, sup { vertical-align: baseline; position: relative; top: -0.4em; }
@media print { html, body { height: unset; }}
</style></head><body bgcolor="#ffffff"><script language="javascript" type="text/javascript" src="/assets/gnucash/Chart.bundle.min.js"></script>
<h3 style='display:none'></h3><div style='width:100.0%;height:100.0%;'>
<a id='jump-chart187' href='' style='display:none'></a>
<canvas id="chart187"></canvas>
</div>
<script id='script-chart187'>
var curriso = "PLN";
var currsym = "z≈Ç";
var formsty = "currency";
var chartid = "chart187";
var jumpid = 'jump-chart187';
var loadstring = "Load";
var chartjsoptions = {
  "type" : "line",
  "data" : 
  {
    "labels" : [ "01/01/2021", "01/02/2021", "01/03/2021", "01/04/2021", "01/05/2021", "01/06/2021", "01/07/2021", "01/08/2021", "01/09/2021", "01/10/2021", "01/11/2021", "01/12/2021", "01/01/2022", "01/02/2022", "01/03/2022", "01/04/2022", "01/05/2022", "01/06/2022", "01/07/2022", "01/08/2022", "01/09/2022", "01/10/2022", "01/11/2022", "01/12/2022", "31/12/2022"],
    "datasets" : [ 
      {
        "urls" : "gnc-report:id=51#",
        "borderWidth" : 1.5,
        "pointRadius" : 3,
        "fill" : false,
        "data" : [ 2912737.55, 2969355.3, 2995996.28, 3096781.67, 3104775.42, 3073139.34, 3129286.61, 3126366.26, 3172608.38, 3088494.6, 3109209.33, 3235954.16, 3077766.42, 3130508.51, 3289622.71, 3264922.99, 3257591.52, 3206633.8, 3292745.66, 3283595.49, 3278248.19, 3278224.69, 3278224.69, 3278224.69, 3278224.69],
        "label" : "Assets",
        "backgroundColor" : "#0074D9",
        "borderColor" : "#0074D9"
      }, 
      {
        "urls" : "gnc-report:id=52#",
        "borderWidth" : 1.5,
        "pointRadius" : 3,
        "fill" : false,
        "data" : [ 259128.18, 259605.23, 257992.21, 263678.52, 256574.74, 251144.85, 252159.24, 253425.77, 249461, 205917.06, 204748.88, 329296.7, 200236.67, 309779.91, 461035.58, 464725.15, 477003.57, 469377.08, 479563.37, 476661.07, 475980.17, 475980.17, 475980.17, 475980.17, 475980.17],
        "label" : "Liabilities",
        "backgroundColor" : "#FF4136",
        "borderColor" : "#FF4136"
      }, 
      {
        "borderWidth" : 1.5,
        "pointRadius" : 3,
        "fill" : false,
        "data" : [ 2653609.37, 2709750.07, 2738004.07, 2833103.15, 2848200.68, 2821994.49, 2877127.37, 2872940.49, 2923147.38, 2882577.54, 2904460.45, 2906657.46, 2877529.75, 2820728.6, 2828587.13, 2800197.84, 2780587.95, 2737256.72, 2813182.29, 2806934.42, 2802268.02, 2802244.52, 2802244.52, 2802244.52, 2802244.52],
        "label" : "Net Worth",
        "backgroundColor" : "#2ECC40",
        "borderColor" : "#2ECC40"
      }]
  },
  "options" : 
  {
    "maintainAspectRatio" : false,
    "animation" : 
    {
      "duration" : 0
    },
    "chartArea" : 
    {
      "backgroundColor" : "#fffdf6"
    },
    "legend" : 
    {
      "position" : "right",
      "reverse" : false,
      "labels" : 
      {
        "fontColor" : "black"
      }
    },
    "elements" : 
    {
      "line" : 
      {
        "tension" : 0
      },
      "point" : 
      {
        "pointStyle" : false
      }
    },
    "tooltips" : 
    {
      "callbacks" : 
      {
        "label" : false
      }
    },
    "scales" : 
    {
      "xAxes" : [ 
        {
          "display" : true,
          "type" : "category",
          "distribution" : "series",
          "offset" : true,
          "gridLines" : 
          {
            "display" : true,
            "lineWidth" : 1.5
          },
          "scaleLabel" : 
          {
            "display" : true,
            "labelString" : ""
          },
          "ticks" : 
          {
            "maxRotation" : 30
          }
        }, 
        {
          "position" : "top",
          "ticks" : 
          {
            "display" : false
          },
          "gridLines" : 
          {
            "display" : false,
            "drawTicks" : false
          }
        }],
      "yAxes" : [ 
        {
          "stacked" : false,
          "display" : true,
          "gridLines" : 
          {
            "display" : true,
            "lineWidth" : 1.5
          },
          "scaleLabel" : 
          {
            "display" : 1.5,
            "labelString" : "PLN"
          },
          "ticks" : 
          {
            "beginAtZero" : false
          }
        }, 
        {
          "position" : "right",
          "ticks" : 
          {
            "display" : false
          },
          "gridLines" : 
          {
            "display" : false,
            "drawTicks" : false
          }
        }]
    },
    "title" : 
    {
      "display" : true,
      "fontStyle" : "",
      "text" : [ "Net Worth Linechart", "01/01/2021 to 31/12/2022"]
    }
  }
};


// The following snippet from MDN
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString
var toLocaleStringSupportsOptions = (typeof Intl == 'object' && Intl && typeof Intl.NumberFormat == 'function');

// format a number e.g. 2.5 into monetary e.g. "$2.50" or other style formsty
function numformat(amount) {
  if (toLocaleStringSupportsOptions) {
      return amount.toLocaleString(undefined, {style:formsty, currency:curriso});
  } else {
      return currsym + amount.toLocaleString();
  }
}
chartjsoptions.options.scales.yAxes[0].ticks.callback = yAxisDisplay;
function yAxisDisplay(value,index,values) { return numformat(value); };
chartjsoptions.options.scales.xAxes[0].ticks.callback = xAxisDisplay;
function xAxisDisplay(value,index,values) { return chartjsoptions.data.labels[index]; };
chartjsoptions.options.tooltips.callbacks.label = tooltipLabel;
chartjsoptions.options.tooltips.callbacks.title = tooltipTitle;

function tooltipLabel(tooltipItem,data) {
  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || 'Other';
  var label = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];
  switch (typeof(label)) {
    case 'number':
      return datasetLabel + ': ' + numformat(label);
    default:
      return '';
  }
}

function tooltipTitle(array,data) {
  return data.labels[array[0].index]; }

// draw the background color
Chart.pluginService.register({
  beforeDraw: function (chart, easing) {
    if (chart.config.options.chartArea && chart.config.options.chartArea.backgroundColor) {
      var ctx = chart.chart.ctx;
      var chartArea = chart.chartArea;
      ctx.save();
      ctx.fillStyle = chart.config.options.chartArea.backgroundColor;
      ctx.fillRect(chartArea.left, chartArea.top, chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
      ctx.restore();
    }
  }
})

// copy font info from css into chartjs.
bodyStyle = window.getComputedStyle (document.querySelector ('body'));
Chart.defaults.global.defaultFontSize = parseInt (bodyStyle.fontSize);
Chart.defaults.global.defaultFontFamily = bodyStyle.fontFamily;
Chart.defaults.global.defaultFontStyle = bodyStyle.fontStyle;

titleStyle = window.getComputedStyle (document.querySelector ('h3'));
chartjsoptions.options.title.fontSize = parseInt (titleStyle.fontSize);
chartjsoptions.options.title.fontFamily = titleStyle.fontFamily;
chartjsoptions.options.title.fontStyle = titleStyle.fontStyle;

document.getElementById(chartid).onclick = function(evt) {
  var activepoints = myChart.getElementAtEvent(evt);
  var anchor = document.getElementById(jumpid);
  switch (activepoints.length)  {
    case 0:
      anchor.href = '';
      anchor.textContent = '';
      anchor.style = 'display: none';
      break;
    default:
      var index = activepoints[0]['_index'];
      var datasetIndex = activepoints[0]['_datasetIndex'];
      var datasetURLs = myChart.data.datasets[datasetIndex].urls;
      // console.log('index=',index,'datasetIndex=',datasetIndex);
      anchor.style = 'position:absolute; top:' + (evt.clientY - 30) + 'px; left:' + (evt.clientX - 20) + 'px; display: block; padding: 5px; border-radius: 5px; background: #4E9CAF; text-align:center; color:white; z-index: 999;';
      switch (typeof(datasetURLs)) {
        case 'string':
          anchor.href = datasetURLs;
          anchor.textContent = loadstring;
          break;
        case 'object':
          anchor.href = datasetURLs[index];
          anchor.textContent = loadstring;
          break;
        default:
          anchor.href = '';
          anchor.textContent = '';
          anchor.style = 'display: none';
      }
  }
}

var myChart = new Chart(chartid, chartjsoptions);
</script></body>
</html>
